import{i as Fe,g as Oe,a as Se,c as _,b as Ce,s as Ue,q as fe,o as ge,d as me,r as t,j as e,t as Te,e as De,u as ne,A as Me,S as q,H as ze,M as Be,T as ue,f as J,h as de,k as xe,l as be,m as je,n as $e,p as qe,v as Ee,G as Ye,w as Ve,x as Ge,y as We,z as Ie,U as he,L as te,B as pe,C as He,D as le,E as _e,F as Pe,I as Ae,J as Ke,K as Qe,N as Xe,O as Ze,P as Je,Q as et,R as tt,V as st,W as at,X as rt,Y as ye,Z as lt,_ as nt,$ as ot,a0 as se,a1 as it,a2 as ct}from"./vendor-DcjY5axh.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))d(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&d(o)}).observe(document,{childList:!0,subtree:!0});function x(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(l){if(l.ep)return;l.ep=!0;const r=x(l);fetch(l.href,r)}})();const dt={apiKey:"AIzaSyBShbEHeY2aPY2sx8NDoFrqqBtMztEVuzQ",authDomain:"material-web-app-5af17.firebaseapp.com",projectId:"material-web-app-5af17",storageBucket:"material-web-app-5af17.firebasestorage.app",messagingSenderId:"366377409289",appId:"1:366377409289:web:31371992ec5ec4e8fb91d8",measurementId:"G-WG5LX7Z162"},Le=Fe(dt),U=Oe(Le),H=Se(Le),mt=async s=>{try{if(!U.currentUser)throw new Error("User must be authenticated to add a note");if(!s.name||!s.semester||!s.subject)throw new Error("Missing required note details");const n=_(H,"notes"),x=await Ce(n,{...s,uploadedBy:U.currentUser.uid,uploadedAt:Ue(),metadata:{createdBy:U.currentUser.email,createdAt:new Date().toISOString()}});return console.log("Note added with ID: ",x.id),x}catch(n){throw console.error("Error adding note: ",n),n.code==="permission-denied"&&console.error("Permission denied. Check Firestore security rules."),n}},Re=async()=>{try{const s=_(H,"notes"),n=fe(s,ge("uploadedAt","desc"));return(await me(n)).docs.map(d=>({id:d.id,...d.data()}))}catch(s){throw console.error("Error fetching notes: ",s),s}},ce=({options:s,placeholder:n,onChange:x,value:d})=>{const[l,r]=t.useState(!1),[o,N]=t.useState(""),[S,b]=t.useState(s),p=t.useRef(null),h=t.useRef(null);t.useEffect(()=>{const i=A=>{p.current&&!p.current.contains(A.target)&&r(!1)};return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[]),t.useEffect(()=>{b(s.filter(i=>typeof i=="string"&&i.toLowerCase().includes(o.toLowerCase())))},[o,s]),t.useEffect(()=>{l&&h.current&&window.matchMedia("(min-width: 768px)").matches&&h.current.focus()},[l]);const v=i=>{N(""),r(!1),x&&x(i)};return e.jsxs("div",{className:"relative w-full",ref:p,children:[e.jsxs("div",{className:"border border-gray-400 md:hover:bg-yellow-50 transition-all rounded-lg p-3 bg-white cursor-pointer shadow-sm",onClick:()=>r(!l),children:[d||n||"Select an option",e.jsx("span",{className:"float-right",children:"â–¾"})]}),l&&e.jsxs("div",{className:"absolute z-10 bg-white border rounded-lg w-full mt-1 shadow-lg",children:[e.jsx("input",{type:"text",ref:h,value:o,onChange:i=>N(i.target.value),placeholder:"Search...",className:"p-2 w-full border-b text-green-700 font-semibold focus:outline-none"}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:S.length>0?S.map(i=>e.jsx("div",{className:"p-2 hover:bg-gray-200 cursor-pointer",onClick:()=>v(i),children:i},i)):e.jsx("div",{className:"p-2 text-gray-500",children:"No options found"})})]})]})};function ut(...s){return Te(De(s))}const xt=1.5,ht=.5,pt=s=>{const n=t.useRef(0),x=t.useRef(0),d=t.useRef(0),l=t.useRef(new Date),r=t.useRef(null),o=t.useRef(null),N=t.useCallback(p=>{const[h,v]=[r.current,o.current];if(!h||!v)return;v.style.filter=`blur(${Math.min(8/p-8,100)}px)`,v.style.opacity=`${Math.pow(p,.4)*100}%`;const i=1-p;h.style.filter=`blur(${Math.min(8/i-8,100)}px)`,h.style.opacity=`${Math.pow(i,.4)*100}%`,h.textContent=s[n.current%s.length],v.textContent=s[(n.current+1)%s.length]},[s]),S=t.useCallback(()=>{x.current-=d.current,d.current=0;let p=x.current/xt;p>1&&(d.current=ht,p=1),N(p),p===1&&n.current++},[N]),b=t.useCallback(()=>{x.current=0;const[p,h]=[r.current,o.current];p&&h&&(h.style.filter="none",h.style.opacity="100%",p.style.filter="none",p.style.opacity="0%")},[]);return t.useEffect(()=>{let p;const h=()=>{p=requestAnimationFrame(h);const v=new Date,i=(v.getTime()-l.current.getTime())/1e3;l.current=v,d.current-=i,d.current<=0?S():b()};return h(),()=>{cancelAnimationFrame(p)}},[S,b]),{text1Ref:r,text2Ref:o}},ft=({texts:s})=>{const{text1Ref:n,text2Ref:x}=pt(s);return e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"absolute inset-x-0 top-0 m-auto inline-block w-full",ref:n}),e.jsx("span",{className:"absolute inset-x-0 top-0 m-auto inline-block w-full",ref:x})]})},gt=()=>e.jsx("svg",{id:"filters",className:"fixed h-0 w-0",preserveAspectRatio:"xMidYMid slice",children:e.jsx("defs",{children:e.jsx("filter",{id:"threshold",children:e.jsx("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:`1 0 0 0 0\r
                  0 1 0 0 0\r
                  0 0 1 0 0\r
                  0 0 0 255 -140`})})})}),bt=({texts:s,className:n})=>e.jsxs("div",{className:ut("relative mx-auto h-14 w-full max-w-screen-md text-center font-sans text-[16pt] font-bold leading-none [filter:url(#threshold)_blur(0.6px)] lg:text-[2rem]",n),children:[e.jsx(ft,{texts:s}),e.jsx(gt,{})]}),jt=({topContributor:s})=>{const[n,x]=t.useState(0),d=s||[];t.useEffect(()=>{if(d.length>0){const r=setInterval(()=>{x(o=>(o+1)%d.length)},2e3);return()=>clearInterval(r)}},[d]);const l=d.map(r=>`${r.name}-${r.noteCount}`);return e.jsx("div",{className:"w-full",children:l.length>0?e.jsx(bt,{texts:l}):e.jsx("p",{className:"text-black font-bold text-center h-14",children:"Loading.."})})},yt=s=>`https://drive.google.com/thumbnail?id=${s}&sz=w1200`,wt=s=>{const n=s.match(/\/d\/([^/]+)/)||s.match(/id=([^&]+)/);return n?n[1]:null};function Nt(s){const x=s.filter(r=>r.contributorName&&r.contributorName.trim()!==""&&r.contributorName.toLowerCase()!=="unknown").reduce((r,o)=>{const N=o.contributorName;return r[N]=(r[N]||0)+1,r},{});return Object.entries(x).sort((r,o)=>o[1]-r[1]).slice(0,3).map(([r,o])=>({name:r,noteCount:o}))}function vt(){const[s,n]=t.useState([]),[x,d]=t.useState([]),[l,r]=t.useState(!0),[o,N]=t.useState(null),[S,b]=t.useState(""),[p,h]=t.useState(""),[v,i]=t.useState(""),[A,z]=t.useState(""),[T,c]=t.useState(""),[L,B]=t.useState([]),[y,I]=t.useState([]),[V,u]=t.useState([]),[j,D]=t.useState(0),k="talaganarajesh25@gmail.com",[F,E]=t.useState(!1),[M,G]=t.useState({}),[f,m]=t.useState({}),[C,$]=t.useState(null),oe=U.currentUser,ae=ne(),[w,R]=t.useState(0);t.useEffect(()=>{(async()=>{try{r(!0);const g=await Re(),O=U.currentUser;O&&O.email==k&&E(!0);const P=g.map(Y=>({...Y,subject:Y.subject.trim().toUpperCase()}));n(P);const Q=[...new Set(P.map(Y=>Y.semester))],ee=[...new Set(P.map(Y=>Y.subject))],re=[...new Set(P.map(Y=>Y.module))];B(Q.sort()),I(ee.sort()),u(re.sort());const Z=Nt(g);$(Z),D(g.length),N(null)}catch(g){console.error("Error fetching notes:",g),N(g.message)}finally{r(!1)}})()},[]),t.useEffect(()=>{const a=s.filter(g=>(g.name.toLowerCase().includes(S.toLowerCase())||g.subject.toLowerCase().includes(S.toLowerCase())||g.contributorName.toLowerCase().includes(S.toLowerCase()))&&(p===""||g.semester===p)&&(v===""||g.subject===v)&&(T===""||g.module===T)&&(A===""||g.contributorName===A));d(a)},[s,S,p,v,A,T]);const W=()=>{b(""),h(""),i(""),z(""),c("")},X=async a=>{if(window.confirm("Are you sure you want to delete this note?"))try{const g=J(H,"notes",a);await de(g),n(O=>O.filter(P=>P.id!==a)),console.log(`Note with ID: ${a} has been deleted successfully.`)}catch(g){console.error("Error deleting note:",g)}},K=async a=>{if(!U.currentUser){alert("Please sign in to vote!"),ae("/auth");return}const g=Se(),O=U.currentUser.uid,P=J(g,"notes",a),Q=J(_(P,"likes"),O),ee=M[a],re=f[a]||0;G(Z=>({...Z,[a]:!ee})),m(Z=>({...Z,[a]:ee?re-1:re+1}));try{(await xe(Q)).exists()?(await de(Q),await be(P,{likes:je(-1)})):(await $e(Q,{liked:!0}),await be(P,{likes:je(1)}))}catch(Z){console.error("Error updating like:",Z),G(Y=>({...Y,[a]:ee})),m(Y=>({...Y,[a]:re}))}};t.useEffect(()=>{(async()=>{const g={},O={};await Promise.all(s.map(async P=>{if(g[P.id]=P.likes||0,U.currentUser){const Q=J(_(J(H,"notes",P.id),"likes"),U.currentUser.uid),ee=await xe(Q);O[P.id]=ee.exists()}else O[P.id]=!1})),m(g),G(O)})()},[s,U.currentUser]),t.useEffect(()=>{(async()=>{if(!s||s.length===0)return;const g={};await Promise.all(s.map(async O=>{try{const P=_(H,"notes",O.id,"comments"),Q=await qe(P);g[O.id]=Q.data().count||0}catch(P){console.error(`Error fetching comments for note ${O.id}:`,P),g[O.id]=0}})),R(g)})()},[s]);const ie=(a,g)=>{if(!g||!a){alert("Invalid Note ID or URL");return}const O=encodeURIComponent(a);ae(`/note?url=${O}&id=${g}`)};return e.jsxs("div",{className:"container md:mt-20 mt-14 mx-auto px-4 pb-8 pt-4",children:[e.jsx("button",{className:"fixed bottom-4 right-4 border border-black  text-black p-2 rounded-full shadow-lg hover:bg-green-100 transition-all duration-300",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:e.jsx(Me,{className:"md:size-5 size-3"})}),e.jsxs("div",{className:"flex justify-center items-center flex-col",children:[e.jsx("p",{className:"text-xs font-semibold ",children:"Thanks"}),e.jsx(jt,{topContributor:C||[]})]}),e.jsxs("h1",{className:" text-xs text-gray-600 mb-1 ml-1 font-semibold ",children:["NIST NOTES - ",e.jsx("span",{children:j})]}),e.jsx("div",{className:"mb-6 border-2 border-green-200 shadow-xl border-x-teal-200 p-4 rounded-2xl",children:e.jsxs("div",{className:"grid md:grid-cols-5 gap-4 p-2 items-center",children:[e.jsx("div",{children:e.jsx("input",{type:"text",id:"titleFilter",value:S,onChange:a=>b(a.target.value),placeholder:"Search subject / teacher etc.",className:"p-3 block w-full rounded-md border-gray-300 border-2 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})}),e.jsx("div",{children:e.jsx(ce,{options:y,placeholder:v||"All Subjects",onChange:a=>i(a)})}),e.jsx("div",{children:e.jsx(ce,{options:V,placeholder:T||"All Modules",onChange:a=>c(a)})}),e.jsx("div",{children:e.jsx(ce,{options:L,placeholder:p||"All Semesters",onChange:a=>h(a)})}),e.jsx("div",{className:" text-center",children:e.jsx("button",{onClick:W,className:"bg-yellow-100 border-yellow-300 border text-gray-800 py-3 px-5 rounded-lg font-semibold md:hover:border-yellow-500 transition-colors",children:"Reset Filters"})})]})}),o&&e.jsxs("p",{className:"text-red-500",children:["Error fetching notes: ",o]}),l?e.jsx("div",{className:"flex-row justify-center gap-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(a=>e.jsxs("div",{className:"z-70 w-full bg-zinc-50 rounded-lg shadow-lg p-4 flex flex-row space-x-6 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col justify-center flex-grow",children:[e.jsx(q,{height:30,width:200,className:"mb-4"})," ",e.jsx(q,{height:20,width:140,className:"mb-4"})," ",e.jsx(q,{height:20,width:180,className:"mb-4"})," ",e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(q,{height:40,width:100,className:"mt-4"})," ",e.jsx(q,{height:40,width:40,className:"mt-4"})," "]})]}),e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx(q,{height:200,width:150,className:"rounded-lg"})," "]})]},a))}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[x.map(a=>e.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-xl flex flex-row justify-between",children:[e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsx("h1",{className:"text-xl font-bold mb-2",children:e.jsxs("span",{onClick:()=>{v==a.subject?i(""):i(a.subject)},className:"group hover:text-green-500 transition-colors duration-300 cursor-pointer relative",children:[a.subject||"unknown",e.jsxs("span",{className:"tooltip absolute bottom-full w-full transform -translate-x-1/2 mt-2 py-3 px-2 bg-slate-900 text-white text-xs rounded-lg opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:["View all notes of ",a.subject]})]})}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["@",e.jsxs("span",{onClick:()=>{T==a.module?c(""):c(a.module)},className:"text-gray-600 group hover:text-green-500 transition-colors duration-300 cursor-pointer relative",children:[a.module||"unknown",e.jsxs("span",{className:"tooltip absolute bottom-full w-full transform -translate-x-1/2 mt-2 py-3 px-2 bg-slate-900 text-white text-xs rounded-lg opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:["View all notes of ",a.module]})]})]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Semester:",e.jsxs("span",{onClick:()=>{p==a.semester?h(""):h(a.semester)},className:"text-gray-600 text-center group ml-1 hover:text-green-500 transition-colors duration-300 cursor-pointer relative",children:[a.semester||"unknown",e.jsxs("span",{className:"tooltip absolute bottom-full w-full transform -translate-x-1/2 mt-2 py-3 px-2 bg-slate-900 text-white text-xs rounded-lg opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:["View all notes of sem ",a.semester]})]})]}),e.jsxs("h2",{className:"mb-2 text-gray-600",children:["Details: ",a.name]}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Uploaded by:",e.jsxs("span",{onClick:()=>{A==a.contributorName?z(""):z(a.contributorName)},className:"text-green-800 group font-semibold hover:text-green-500 transition-colors duration-300 cursor-pointer relative",children:[a.contributorName||"unknown",e.jsxs("span",{className:"tooltip absolute bottom-full w-full transform -translate-x-1/2 mt-2 py-3 px-2 bg-slate-900 text-white text-xs rounded-lg opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:["View all notes by ",a.contributorName]})]})]}),e.jsxs("div",{className:"flex flex-row justify-start w-full items-center",children:[e.jsx("button",{onClick:()=>ie(a.fileUrl,a.id),className:"text-white bg-black py-2 text-center text-xs md:text-sm md:w-fit md:px-3 w-20 rounded-lg hover:rounded-2xl transition-all duration-300",children:"View Note"}),e.jsxs("div",{className:"flex flex-row bg-gray-50 md:px-2 gap-1 p-1 rounded-lg md:hover:bg-gray-100 transition-all",children:[e.jsx(ze,{size:20,style:{cursor:"pointer",marginRight:"0px",color:M[a.id]?"red":"black"},onClick:()=>K(a.id),className:M[a.id]?"fill-red-500 rounded-md transition-all":"bg-transparent md:hover:fill-red-500 md:hover:p-0.5 rounded-full transition-all"}),f[a.id]||0]}),e.jsxs("div",{onClick:()=>ae(`/note?url=${encodeURIComponent(a.fileUrl)}&id=${a.id}`),className:"flex gap-1 flex-row bg-gray-50 md:px-2 p-1 rounded-lg md:hover:bg-gray-100 transition-all cursor-pointer",children:[e.jsx(Be,{size:20,color:"black"}),w[a.id||0]]})]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-between",children:[e.jsx("img",{onClick:()=>ie(a.fileUrl,a.id),src:yt(wt(a.fileUrl)),alt:"PDF Preview",className:"md:w-40 cursor-pointer hover:brightness-90 transition-all duration-300 md:h-48 w-28 h-36  object-cover rounded-lg  ml-2 border-2 border-gray-300"}),e.jsxs("div",{className:"flex md:flex-row flex-col justify-around items-center w-full",children:[F&&e.jsx("div",{className:"bg-slate-50 hover:bg-slate-100 rounded-lg p-2 transition-all duration-300",children:e.jsx("button",{onClick:()=>X(a.id),children:e.jsx(ue,{size:20,color:"red"})})}),oe&&oe.email==a.metadata.createdBy&&e.jsx("div",{className:"bg-slate-50 rounded-lg md:px-2 p-1 hover:bg-slate-200 hover:rounded-xl transition-all duration-300",children:e.jsx("button",{onClick:()=>X(a.id),children:e.jsx(ue,{size:20,color:"red"})})}),e.jsx("p",{className:"opacity-40 bottom-0",children:a.uploadedAt.toDate().toLocaleDateString("en-GB")})]})]})]},a.id)),x.length===0&&!l&&e.jsx("div",{className:"col-span-full text-center text-gray-500 py-8",children:"No notes found ! Reset filters or Refresh page."})]}),e.jsx("div",{className:"text-center opacity-90 pt-14 flex flex-col",children:e.jsx("a",{href:"https://talaganarajesh.vercel.app/",target:"_blank",rel:"noopener noreferrer",className:"hover:-rotate-3 transition-all duration-300",children:e.jsxs("span",{className:"text-green-700 font-bold",children:[e.jsx("span",{className:"text-black",children:"~ by"})," Rajesh"]})})})]})}const kt="/favicon.ico";function St(){const[s,n]=t.useState(""),[x,d]=t.useState(""),[l,r]=t.useState(""),[o,N]=t.useState(""),[S,b]=t.useState(""),[p,h]=t.useState(!0),[v,i]=t.useState(!1),[A,z]=t.useState(!1),[T,c]=t.useState(!1),[L,B]=t.useState(!1),[y,I]=t.useState({googleSignIn:!1,sendOtp:!1,verifyOtp:!1,createAccount:!1,signIn:!1}),V=ne();t.useEffect(()=>{const f=Ee(U,m=>{m&&B(m.emailVerified)});return()=>f()},[]);const u=async()=>{I(m=>({...m,googleSignIn:!0}));const f=new Ye;try{await Ve(U,f),V("/upload")}catch(m){console.error("Error signing in with Google:",m),alert("Google Sign-In failed. Please try again.")}finally{I(m=>({...m,googleSignIn:!1}))}},j=()=>Math.floor(1e5+Math.random()*9e5).toString(),D=async(f,m)=>{I(C=>({...C,sendOtp:!0}));try{const C="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",$=await Ie.post("https://api.brevo.com/v3/smtp/email",{sender:{email:"useles436@gmail.com"},to:[{email:f}],subject:"Your OTP for Get Material Login",htmlContent:`
            <html>
              <body>
                <h2>Your One-Time Password (OTP)</h2>
                <p>Your OTP is: <strong>${m}</strong></p>
                <p>This OTP will expire in 10 minutes.</p>
              </body>
            </html>
          `},{headers:{"api-key":C,"Content-Type":"application/json"},timeout:1e4});return console.log("OTP email sent successfully:",$.data),!0}catch(C){throw console.error("Detailed OTP Email Error:",C),new Error("Failed to send OTP email")}finally{I(C=>({...C,sendOtp:!1}))}},k=async f=>{if(f.preventDefault(),!s.endsWith("@nist.edu")){alert("NIST edu Email is required");return}if(p)try{I(C=>({...C,verifyOtp:!0}));const m=j();b(m),await D(s,m),i(!0),h(!1)}catch(m){console.error("Email sending failed:",m),alert("Failed to send OTP. Please check your email and try again.")}finally{I(m=>({...m,verifyOtp:!1}))}else try{I(m=>({...m,verifyOtp:!0})),v&&x===S?(z(!0),i(!1)):alert("Incorrect OTP. Please try again.")}finally{I(m=>({...m,verifyOtp:!1}))}},F=async f=>{if(f.preventDefault(),l!==o){alert("Passwords do not match");return}if(l.length<6){alert("Password should be at least 6 characters long");return}try{I($=>({...$,createAccount:!0}));const C=(await Ge(U,s,l)).user;console.log("User created successfully:",C),V("/upload")}catch(m){console.error("Account creation error:",m),m.code==="auth/email-already-in-use"?alert("Email is already registered. Please sign in."):alert("Failed to create account. Please try again.")}finally{I(m=>({...m,createAccount:!1}))}},E=async f=>{f.preventDefault();try{I($=>({...$,signIn:!0}));const C=(await We(U,s,l)).user;console.log("User signed in successfully:",C),V("/upload")}catch(m){console.error("Sign-in error:",m),m.code==="auth/invalid-credential"?alert("Invalid email or password. Please try again."):m.code==="auth/user-not-found"?alert("No account found with this email. Please sign up."):alert("Sign-in failed. Please try again.")}finally{I(m=>({...m,signIn:!1}))}},M=()=>e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}),G=()=>{n(""),r(""),N(""),d(""),i(!1),z(!1),h(!0),c(!1)};return e.jsxs("div",{className:"container mx-auto md:mt-20 mt-14 px-4 py-8",children:[e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx("img",{src:kt,alt:"logo get material NIST Notes",width:80,height:80}),e.jsx("h1",{className:"text-3xl font-bold",children:"Account"})]}),e.jsxs("div",{className:"max-w-md mx-auto bg-gradient-to-r login-container p-8 rounded-xl",children:[e.jsxs("button",{onClick:u,disabled:y.googleSignIn,className:"w-full flex flex-row justify-center gap-2 border-2 border-gray-200 hover:border-gray-300 bg-amber-50 items-center font-bold py-3 text-black rounded-2xl mb-4 transition-colors duration-300 disabled:opacity-50",children:[e.jsx("lord-icon",{src:"https://cdn.lordicon.com/eziplgef.json",trigger:"loop"}),e.jsx("span",{children:"Sign In with Google"})]}),e.jsx("h1",{className:"text-center text-black font-bold pb-4",children:"OR"}),!T&&!A&&e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsx("input",{type:"email",value:s,onChange:f=>n(f.target.value),placeholder:"Enter your Email",className:"w-full p-3 border-2 rounded-lg font-semibold",required:!0,disabled:y.sendOtp||y.verifyOtp}),!v&&p&&e.jsx("button",{type:"submit",disabled:y.sendOtp,className:"w-full font-bold p-2 rounded-lg bg-gradient-to-r from-green-950 to-black text-white hover:bg-green-600 transition-colors duration-300 disabled:opacity-50",children:y.sendOtp?e.jsx(M,{}):"Send OTP"}),v&&e.jsxs("div",{children:[e.jsx("div",{className:"text-center text-green-500 mb-4",children:"OTP sent! Please check your mail inbox and enter the OTP to verify."}),e.jsx("input",{type:"text",value:x,onChange:f=>d(f.target.value),placeholder:"Enter OTP",className:"w-full p-2 border-2 rounded-lg",required:!0,disabled:y.verifyOtp}),e.jsx("button",{type:"submit",disabled:y.verifyOtp,className:"w-full mt-2 font-bold p-2 rounded bg-gradient-to-r from-cyan-400 to-green-400 text-black hover:bg-green-600 transition-colors duration-300 disabled:opacity-50",children:y.verifyOtp?e.jsx(M,{}):"Verify OTP"})]})]}),A&&e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsx("div",{className:"text-center text-green-600 mb-4",children:"Email verified! Now create your password"}),e.jsx("input",{type:"password",value:l,onChange:f=>r(f.target.value),placeholder:"Create Password",className:"w-full p-2 border-2 rounded-lg",required:!0,minLength:6,disabled:y.createAccount}),e.jsx("input",{type:"password",value:o,onChange:f=>N(f.target.value),placeholder:"Confirm Password",className:"w-full p-2 border-2 rounded-lg",required:!0,minLength:6,disabled:y.createAccount}),e.jsx("button",{type:"submit",disabled:y.createAccount,className:"w-full font-bold p-2 rounded bg-gradient-to-r from-cyan-400 to-green-600 text-black hover:bg-green-600 transition-colors duration-300 disabled:opacity-50",children:y.createAccount?e.jsx(M,{}):"Create Account"})]}),T&&e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsx("input",{type:"email",value:s,onChange:f=>n(f.target.value),placeholder:"Email",className:"w-full p-2 border-2 rounded-lg font-semibold",required:!0,disabled:y.signIn}),e.jsx("input",{type:"password",value:l,onChange:f=>r(f.target.value),placeholder:"Password",className:"w-full p-2 border-2 rounded-lg font-semibold",required:!0,disabled:y.signIn}),e.jsx("button",{type:"submit",disabled:y.signIn,className:"w-full font-bold p-2 rounded-lg bg-gradient-to-r from-green-400 to-emerald-500 text-black transition-colors duration-300 disabled:opacity-50",children:y.signIn?e.jsx(M,{}):"Sign In"})]}),e.jsxs("div",{className:"mt-4 text-center",children:[!T&&!A&&e.jsx("button",{onClick:()=>{G(),c(!0)},className:"text-red-950 font-semibold hover:underline",children:"Already have an account? Sign In"}),T&&e.jsx("button",{onClick:()=>{G(),c(!1)},className:"text-red-950 font-semibold hover:underline",children:"Need an account? Sign Up"})]})]})]})}const we=({message:s,type:n,duration:x,onClose:d})=>{const[l,r]=t.useState(!1);return t.useEffect(()=>{r(!0);const o=setTimeout(()=>{r(!1),d&&d()},x||3e3);return()=>clearTimeout(o)},[x,d]),e.jsx("div",{className:`popup-message ${n||"info"} ${l?"show":""}`,children:s})};function Ct(){const[s,n]=t.useState([]);t.useEffect(()=>{(async()=>{try{const W=(await Re()).map(K=>({...K,subject:K.subject.trim().toUpperCase()})),X=[...new Set(W.map(K=>K.subject))];X.sort(),X.push("Not mentioned"),n(X)}catch(R){console.error("Error fetching subjects:",R),h(R.message)}})()},[]),t.useEffect(()=>{const w=U.onAuthStateChanged(R=>{A(R?R.displayName:"")});return()=>w()},[]);const[x,d]=t.useState(null),[l,r]=t.useState(""),[o,N]=t.useState(""),[S,b]=t.useState(!1),[p,h]=t.useState(null),v=ne(),[i,A]=t.useState(""),[z,T]=t.useState(""),c=["Uploading... slower than my grandma's Wi-Fi!","Hold up, the bytes are arguing.","Almost there... if 'there' is still far!","Loading... as reliable as my alarm clock.","Hang tight... I bribed the server with cookies!","This upload is practicing yoga. Namaste!","Loading... because teleportation is not an option!","Uploading... one byte at a time, literally!","Oops, the pixels went on a coffee break!","Patience, the fileâ€™s catching its breath!","99% done... like my eternal procrastination!","Uploading... like itâ€™s dragging its feet home.","Relax, the file's just stuck in traffic!","Loading... itâ€™s in no rush, unlike you.","Uploading... fueled by hopes and prayers.","Processing... with the speed of a sloth!","Just a sec... or maybe an eternity.","Uploading... trying to find the right vibe!","Loading... it's waiting for applause!","Uploading... slower than me on a treadmill.","Oops, the bytes took a wrong turn!","This uploadâ€™s in the queue behind a snail.","Almost done... or am I lying?","Uploading... because teleporting bytes is illegal.","Waiting... because why not?","Hold on, itâ€™s buffering its confidence.","Uploading... powered by hamster wheels!","Relax, itâ€™s on bytecation.","Loading... slower than my last breakup.","This uploadâ€™s stuck in existential dread!","Uploading... weâ€™re counting sheep, too!","Hold up... the bytes are stretching first.","Uploading... not running, just strolling.","Bytes loading... but first, a selfie!","Processing... the bytes are shy today.","Uploading... slower than a dial-up modem.","Relax, the bytes are on union break!","Almost there... on a cosmic timeline.","Uploading... the fileâ€™s learning patience.","Oops, it took the scenic route!","Loading... it's meditating on life choices.","Uploading... like itâ€™s writing a novel.","Pixels stuck in a philosophical debate.","Uploading... slower than me before coffee.","Processing... powered by wishful thinking!","Hold tight... the bytes are gossiping!","Uploading... powered by good vibes only.","Almost done... just redefining 'almost.'","Uploading... even turtles are laughing!","Loading... itâ€™s probably napping!","Uploading... letâ€™s just hope for the best.","Relax... the bytes are on their way!"],[L,B]=t.useState(c[Math.floor(Math.random()*c.length)]);t.useEffect(()=>{const w=setInterval(()=>{const R=Math.floor(Math.random()*c.length);B(c[R])},4e3);return()=>clearInterval(w)},[]);const[y,I]=t.useState(""),[V,u]=t.useState(""),[j,D]=t.useState(!1),[k,F]=t.useState(!1),[E,M]=t.useState(!1),G=async w=>{const R=w.target.files[0];if(R){if(R.size>500*1024*1024){h("File size must be less than 500MB");return}if(R.type.startsWith("video/")){h("Video files are not allowed");return}if(R.type.startsWith("audio/")){h("Audio files are not allowed");return}d(R),h(null);try{F(!1),D(!0);const W=U.currentUser;if(!W)throw new Error("User not authenticated");const X=await W.getIdToken(),K=new FormData;K.append("file",R);const ie=await Ie.post("https://getmaterial-fq27.onrender.com",K,{headers:{Authorization:`Bearer ${X}`,"Content-Type":"multipart/form-data"}}),{fileLink:a,fileId:g}=ie.data;I(a),u(g),console.log("File uploaded successfully:",a),F(!0)}catch(W){console.error("Error uploading file:",W),h("Failed to upload file. Please try again by refreshing."),F(!1)}}},[f,m]=t.useState(""),[C,$]=t.useState(""),oe=()=>{C&&!s.includes(C)?(n([...s,C]),m(C),$("")):h("Subject already exists or is empty")},ae=async w=>{if(w.preventDefault(),!U.currentUser){h("You must be authenticated to submit the form."),alert("Redirecting to login page..."),v("/auth");return}j&&b(!0),k||b(!0),h(null);try{await mt({name:l,semester:o,subject:f,contributorName:i,module:z,fileUrl:y,fileId:V,likes:0}),console.log("Form submitted successfully."),M(!0),v("/")}catch(W){console.error("Error submitting form:",W),h("Submission failed. Please try again.")}finally{b(!1)}};return e.jsxs("div",{className:"container mx-auto md:mt-20 mt-14 px-4 pt-2",children:[e.jsx("h1",{className:"text-3xl font-bold md:my-6 mb-3 text-center",children:"Upload Note"}),p&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:p}),E&&e.jsx(we,{message:"Notes Uploaded ðŸŽ‰ðŸŽ‰!",type:"success",duration:5e3}),e.jsxs("form",{onSubmit:ae,className:"upload-container max-w-md bg-gradient-to-r px-8 py-7 rounded-2xl mx-auto space-y-4",children:[j?e.jsx("div",{children:k?e.jsxs("div",{className:"border-dashed border-black border rounded-xl p-3",children:[e.jsx("p",{className:" text-green-500 font-bold text-center",children:"Uploaded ðŸŽ‰"}),e.jsx("p",{className:"text-gray-500 text-sm text-center font-semibold",children:"click Upload Note !"}),e.jsx(we,{message:"SUBMIT NOW! ,File uploaded âœ…!",type:"success"})]}):e.jsxs("div",{className:"border-dashed border-black border flex flex-col justify-center items-center rounded-xl p-3",children:[e.jsxs("div",{className:"justify-center flex items-center",children:[e.jsx("p",{className:" text-red-500 text-center font-bold  ",children:"uploading..."}),e.jsx("p",{className:"loader2 text-center flex align-middle justify-center"})]}),e.jsx("p",{className:"text-gray-500 text-sm text-center font-semibold",children:"please wait ! Don't submit"})]})}):e.jsx("div",{children:e.jsxs("div",{className:"flex justify-center hover:bg-yellow-50 transition-all",children:[e.jsx("input",{type:"file",onChange:G,className:"hidden",id:"file-upload"}),e.jsxs("label",{htmlFor:"file-upload",className:"w-full text-center items-center  flex justify-center p-4 border-dashed border-black cursor-pointer hover:bg-green-00 transition-all border rounded-xl focus:ring-2 focus:ring-green-500",children:[e.jsx(he,{className:"inline-block mr-5 size-5 items-center"}),"Upload File"]})]})}),e.jsxs("div",{children:[e.jsx(ce,{options:s,placeholder:f||"Select a subject",onChange:w=>m(w)}),f==="Not mentioned"&&e.jsxs("div",{className:"mt-2 flex",children:[e.jsx("input",{type:"text",value:C,onChange:w=>$(w.target.value),placeholder:"Add new subject",className:"w-full p-2 border rounded-l-lg focus:ring-1 focus:ring-green-500"}),e.jsx("button",{onClick:oe,className:"bg-green-500 text-white px-4 rounded-r-lg",children:"Add"})]})]}),e.jsxs("div",{className:"flex gap-5",children:[e.jsx("div",{children:e.jsxs("select",{value:o,onChange:w=>N(w.target.value),className:"w-full p-2 border md:hover:bg-yellow-50 cursor-pointer transition-all border-gray-400 rounded-lg",required:!0,children:[e.jsx("option",{value:"",children:"Select Semester"}),[1,2,3,4,5,6,7,8].map(w=>e.jsxs("option",{value:w,children:["Semester ",w]},w))]})}),e.jsx("div",{children:e.jsxs("select",{value:z,onChange:w=>T(w.target.value),className:"w-full p-2 border-gray-400 md:hover:bg-yellow-50 cursor-pointer transition-all border rounded-lg",required:!0,children:[e.jsx("option",{value:"",children:"Select Module"}),["Module: 1","Module: 2","Module: 3","Module: 4","Module: 5","assignments","questions","others"].map(w=>e.jsx("option",{value:w,children:w},w))]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Details/Teacher name/Section"}),e.jsx("input",{type:"text",value:l,onChange:w=>r(w.target.value),placeholder:"Ex: Shankar sir , sec-D , handwritten notes",className:"w-full p-2 border rounded-lg focus:ring-1 font-semibold",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name (optional)"}),e.jsx("input",{type:"text",value:i,onChange:w=>A(w.target.value),placeholder:"Enter your name",className:"w-full p-2 font-semibold border rounded-lg focus:ring-1"})]}),e.jsx("button",{type:"submit",disabled:S||!x||!k,className:`w-full ${S||!x||!k?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-green-500 hover:bg-green-600"} text-black font-semibold  p-2 rounded-lg transition duration-200`,children:S?"Uploading...":"Upload Note"})]}),j&&!k&&e.jsx("div",{className:"bg-yellow-50 pb-5 px-3 md:right-20 w-fit md:absolute md:top-1/2",children:e.jsx("div",{className:"mt-5 h-20 md:h-0",children:e.jsx("p",{className:"text-center text-emerald-700 font-semibold",children:L})})}),S&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 transition-all z-50",children:e.jsx("h1",{className:"loader"})})]})}const Ut="/assets/myphoto3-CuZvnKoM.jpg";function Et({user:s}){const n=async()=>{if(window.confirm("Are you sure you want to sign out?"))try{await Ae(U)}catch(N){console.error("Error signing out:",N)}else console.log("Sign out canceled by the user.")},[x,d]=t.useState(!1),l=t.useRef(null),r=()=>{d(o=>!o)};return t.useEffect(()=>{const o=N=>{l.current&&!l.current.contains(N.target)&&d(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]),e.jsx("nav",{className:"shadow-md fixed border border-amber-200 mt-2 flex items-center z-50 bg-yellow-50 rounded-full w-full max-w-7xl px-5",children:e.jsxs("div",{className:"container  mx-auto flex justify-between md:py-3 p-2 items-center",children:[e.jsxs(te,{to:"/",className:"text-black md:text-2xl text-lg font-bold",children:["Get ",e.jsx("span",{className:"text-[#25d366]",children:"Material"})]}),e.jsx("div",{children:s?e.jsxs("div",{className:"flex  justify-center items-center",children:[e.jsx(te,{to:"/upload",className:"text-black md:text-base uploadButton md:py-2 md:px-5 text-sm px-3 py-1 mr-2 border-black border-[1px] rounded-3xl md:mr-4 font-semibold hover:rounded-xl transition-all duration-300",children:"Upload"}),e.jsxs("div",{className:"relative",ref:l,children:[e.jsx("button",{onClick:r,className:"text-black rounded-full size-7 mt-0.5 md:size-10 md:hover:opacity-90 transition-all font-semibold",children:s!=null&&s.photoURL?e.jsx("img",{src:s.photoURL||"/placeholder.svg",alt:"Profile",className:"md:w-9 md:h-9 rounded-full"}):e.jsx(pe,{className:"w-9 rounded-full p-1 h-9 bg-gray-300 text-gray-500"})}),e.jsx(He,{children:x&&e.jsx(le.div,{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-300 rounded-lg shadow-lg z-10",initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:0},transition:{duration:.2},children:e.jsxs("ul",{className:"pb-2 px-1 bg-amber-50 rounded-xl",children:[e.jsx("li",{className:" py-2 border-b border-gray-400 rounded-sm hover:bg-amber-100 transition-all font-semibold cursor-pointer",children:e.jsxs(te,{to:"/userpage",onClick:r,className:"flex px-4 justify-start items-center",children:[e.jsx(pe,{size:20,className:"mr-2"}),e.jsx("h1",{className:" pr-0 py-2",children:"Your Profile"})]})}),e.jsx("li",{className:" mt-2 py-0 rounded-2xl hover:bg-amber-100 transition-all font-semibold cursor-pointer",children:e.jsxs(te,{to:"/about",onClick:r,className:"flex px-4 justify-start items-center ",children:[e.jsx(_e,{size:20,className:"mr-2"}),e.jsx("h1",{className:"py-2",children:"About us"})]})}),e.jsxs("li",{className:"px-4 pt-1 py-2 text-red-500 flex justify-start items-center rounded-2xl hover:bg-amber-100 transition-all font-semibold cursor-pointer",onClick:n,children:[e.jsx(Pe,{size:16,className:"mr-2"}),e.jsx("p",{children:"Log out"})]})]})})})]})]}):e.jsxs("div",{className:"flex justify-end items-center gap-3",children:[e.jsx(te,{to:"/auth",className:"text-black bg-[#25d366] hover:text-white delay-200 transition-all contributeButton font-semibold text-xs w-full text-center md:w-full md:text-sm  md:py-3 p-2 md:px-3 rounded-full border-[1px] border-black",children:"Contribute"}),e.jsx(te,{to:"/about",children:e.jsx("img",{src:Ut,alt:"rajesh",className:"w-[50px] h-[30px] md:w-[68px] md:h-[40px] hover:brightness-90 transition-all rounded-full "})})]})})]})})}const Ne="/assets/developement-C-v4A7AS.png",ve="/assets/curvedarrow-DB7bYAP6.png",It="/assets/myphoto-C3V4XzsS.png";function Pt(){return e.jsxs("section",{className:"py-20 relative",children:[e.jsx("div",{className:"absolute top-0 right-0 rounded-full w-32 md:w-48 h-32 md:h-48 bg-[#FFE5B4] opacity-20",style:{backgroundImage:"radial-gradient(#B8860B 2px, transparent 2px)",backgroundSize:"10px 10px"}}),e.jsx("div",{className:"absolute top-32 -left-10 md:-left-20 rounded-full w-32 md:w-48 h-32 md:h-48 bg-[#FFE5B4] opacity-20",style:{backgroundImage:"radial-gradient(#B8860B 2px, transparent 2px)",backgroundSize:"10px 10px"}}),e.jsxs("div",{className:"container mx-auto px-0 pt-5 md:pt-10",children:[e.jsxs("div",{className:"flex flex-col justify-center md:flex-row gap-8 md:gap-12 items-center mb-16 md:mb-32",children:[e.jsxs("div",{className:"flex-1 space-y-4 md:space-y-6 text-center md:text-left",children:[e.jsxs(le.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl md:text-5xl leading-tight font-bold px-4 md:px-0",style:{fontPalette:"Raleway"},children:[e.jsx("span",{className:"text-black",children:"Hey "}),e.jsx("span",{className:"text-gray-500",children:"there, I'm "}),e.jsx("span",{className:"text-black",children:"Rajesh. "}),e.jsx("br",{className:"hidden md:block"}),e.jsx("span",{className:"text-gray-600",children:"A programer / "}),e.jsx("span",{className:"text-gray-500",children:"Website "}),e.jsx("span",{className:"text-[#FFB800]",children:"Developer"})]}),e.jsx(le.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-amber-900 font-semibold pt-4 md:pt-10 max-w-xl text-sm md:text-base px-4 md:px-0",children:"Building smart web solutions with React, AI, and modern tech. Freelancer, innovator, and problem solver."}),e.jsx("a",{href:"https://www.linkedin.com/in/talagana-rajesh-75a546289/",target:"_blank",rel:"noopener noreferrer",children:e.jsx(le.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-[#362C00] text-white px-6 mt-5 md:px-8 py-4 md:py-5 font-bold rounded-full hover:bg-[#60461c] transition-colors text-sm md:text-base",children:"Discover My Work"})})]}),e.jsx("div",{className:"w-[280px] md:w-[400px] px-4 md:px-0",children:e.jsx("div",{className:"bg-[#FFFCE6] rounded-[32px] md:rounded-[48px] aspect-square overflow-hidden shadow-lg",children:e.jsx(le.img,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},src:It,alt:"Profile",className:"w-full h-full object-cover"})})})]}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 md:px-0",children:[e.jsxs("div",{className:"md:mb-8 mb-2 flex flex-col items-center md:items-start gap-2 md:gap-8",children:[e.jsxs("div",{className:"items-baseline flex gap-3 md:gap-5",style:{fontPalette:"Oxanium"},children:[e.jsx("span",{className:"text-transparent font-bold text-4xl md:text-6xl",style:{WebkitTextStroke:"1px #000"},children:"IN "}),e.jsx("span",{className:"font-bold text-6xl md:text-9xl",children:"2022"})]}),e.jsx("div",{className:"text-3xl md:text-7xl text-transparent font-bold text-center md:text-left",style:{fontPalette:"Oxanium",WebkitTextStroke:"1px #000"},children:"I STARTED"})]}),e.jsxs("div",{className:"hidden md:flex relative justify-start items-center ml-72 gap-20 mb-16",children:[e.jsx("img",{src:ve,alt:"Arrow pointing to logo",className:"size-60 rotate-[60deg]"}),e.jsx("img",{src:Ne,alt:"development",className:"w-64"})]}),e.jsx("img",{src:ve,alt:"Arrow pointing to logo",className:"size-16 flex md:hidden ml-10 rotate-[110deg]"}),e.jsx("div",{className:"flex md:hidden justify-center mb-8",children:e.jsx("img",{src:Ne,alt:"development",className:"w-48"})}),e.jsx("div",{className:"space-y-4 text-base md:text-xl px-4 md:px-0",children:e.jsxs("div",{className:"flex items-start flex-col justify-center gap-4",children:[e.jsxs("a",{href:"https://www.linkedin.com/in/talagana-rajesh-75a546289/",target:"_blank",rel:"noopener noreferrer",className:"flex gap-5 flex-row hover:text-green-500 transition-all",children:[e.jsx(Ke,{size:24}),e.jsx("h1",{children:"www.linkedin.com/in/talagana-rajesh-75a546289"})]}),e.jsxs("a",{href:"https://github.com/talaganaRajesh",target:"_blank",rel:"noopener noreferrer",className:"flex gap-5 flex-row hover:text-green-500 transition-all",children:[e.jsx(Qe,{size:24}),e.jsx("h1",{children:"github.com/talaganaRajesh"})]}),e.jsxs("a",{href:"https://talaganarajesh.vercel.app/",target:"_blank",rel:"noopener noreferrer",className:"flex gap-5 hover:text-green-500 transition-all flex-row",children:[e.jsx(Xe,{size:24}),e.jsx("h1",{children:"talaganarajesh.vercel.app"})]})]})})]}),e.jsxs("div",{className:"text-center flex flex-col items-center gap-5 md:px-32 px-5 mt-28 justify-center",children:[e.jsx("h1",{className:"md:text-sm text-xs font-semibold",children:"Short Description"}),e.jsxs("p",{className:"font-semibold md:text-base text-xs",children:["Hey, Iâ€™m ",e.jsx("span",{className:"bg-yellow-200 px-1",children:"Talagana Rajesh"}),"! Iâ€™m a tech enthusiast who loves building innovative solutions with code and creativity. Whether itâ€™s designing websites, exploring AI, or working on unique side projects, I enjoy solving real-world problems with technology. Beyond coding, Iâ€™m always eager to learn new things, experiment with ideas, and take on exciting challenges. If Iâ€™m not working on a project, youâ€™ll probably find me exploring new trends in tech or brainstorming my next big idea! ðŸš€ . I am currently pursuing my B.Tech in NIST University berhampur and working as a ",e.jsx("span",{className:"bg-yellow-200 px-1",children:"freelancer"}),"."]})]})]})]})}const ke="talaganarajesh25@gmail.com";function At(){const[s]=Ze(),n=ne(),x=s.get("url"),d=s.get("id"),l=x?decodeURIComponent(x):null,[r,o]=t.useState(!0),[N,S]=t.useState(!1),[b,p]=t.useState([]),[h,v]=t.useState(""),[i,A]=t.useState(null),z=t.useRef(null);t.useEffect(()=>{const u=U.onAuthStateChanged(j=>{A(j||null)});return()=>u()},[]),t.useEffect(()=>{if(!d)return;const u=_(H,"notes",d,"comments"),j=fe(u,ge("timestamp","desc")),D=Je(j,k=>{p(k.docs.map(F=>{var M;const E=F.data();return{id:F.id,text:E.text,userEmail:E.userEmail,userName:E.userName||"Anonymous",timestamp:T((M=E.timestamp)==null?void 0:M.toDate())}}))});return()=>D()},[d]);const T=u=>{if(!u)return"Unknown Date";const j=String(u.getDate()).padStart(2,"0"),D=String(u.getMonth()+1).padStart(2,"0"),k=u.getFullYear();return`${j}/${D}/${k}`},c=async()=>{if(!i){alert("Please sign in to comment");return}if(!h.trim()){alert("Comment cannot be empty");return}const u=_(H,"notes",d,"comments");await Ce(u,{text:h,timestamp:Ue(),userEmail:i.email,userName:i.displayName||i.email.split("@")[0]}),v("")},L=async u=>{const j=b.find(E=>E.id===u);console.log(j);const D=i==null?void 0:i.email,k=D===ke,F=D===(j==null?void 0:j.userEmail);if(console.log(D),console.log(j==null?void 0:j.userEmail),!j){console.error("Comment not found");return}if(!k&&!F){alert("Only admins and comment authors can delete comments");return}if(window.confirm("Delete this comment?"))try{await de(J(H,"notes",d,"comments",u)),console.log("Comment deleted successfully")}catch(E){console.error("Error deleting comment:",E)}},y=(u=>u?u.includes("drive.google.com")?u.replace("/view","/preview"):u:null)(l);t.useEffect(()=>{y&&o(!0)},[y]),t.useEffect(()=>{window.scrollTo(0,0)},[]);const I=u=>{var j;u.key==="Enter"&&((j=z.current)==null||j.click())},V=async()=>{if(y){S(!0);try{let u=y,j="note-file.pdf";if(y.includes("drive.google.com")){const M=y.match(/[-\w]{25,}/);if(M){const G=M[0],f="AIzaSyCn78r-h3ob6iVqAYki5jXcp6hwGDdhGHc",m=`https://www.googleapis.com/drive/v3/files/${G}?fields=name&key=${f}`,$=await(await fetch(m)).json();$&&$.name&&(j=$.name),u=`https://www.googleapis.com/drive/v3/files/${G}?alt=media&key=${f}`}}const k=await(await fetch(u)).blob(),F=window.URL.createObjectURL(k),E=document.createElement("a");E.href=F,E.setAttribute("download",j),document.body.appendChild(E),E.click(),document.body.removeChild(E),window.URL.revokeObjectURL(F)}catch(u){console.error("Download failed:",u),window.open(y,"_blank")}finally{setTimeout(()=>S(!1),2e3)}}};return l?e.jsxs("div",{className:"container mx-auto md:mt-24 mt-16",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 rounded-lg shadow-sm",children:[e.jsx("button",{onClick:()=>n("/"),className:"bg-yellow-100 text-black border border-black px-4 py-2 rounded hover:bg-yellow-200 transition-colors flex items-center gap-2",children:e.jsx(et,{})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:V,className:" border downloadButton border-black rounded transition-all text-black px-4 py-2 duration-300 flex items-center gap-2",children:[N?e.jsx("div",{className:"loader2 transition-all duration-300"}):e.jsx(tt,{size:20}),N?e.jsx("h1",{className:"hidden md:flex",children:"Downloading.."}):e.jsx("h1",{className:"hidden md:flex",children:"Download"})]}),e.jsx("div",{className:"",children:e.jsxs("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"bg-yellow-100 text-black border border-black px-4 py-2 rounded hover:bg-yellow-200 transition-colors flex items-center gap-2",children:[e.jsx(st,{size:20}),e.jsx("h1",{className:"hidden md:flex",children:"Full Preview"})]})})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-12 lg:col-span-8",children:[r&&e.jsx("div",{className:"h-[calc(100vh-12rem)] flex justify-center items-center",children:e.jsx("div",{className:"loader"})}),e.jsx("div",{className:`rounded-lg border mx-8 md:mx-0 border-black h-[calc(100vh-11rem)] ${r?"hidden":""}`,children:e.jsx("iframe",{src:y,className:"w-full h-full rounded-lg bg-white",title:"Note Viewer",allow:"fullscreen",onLoad:()=>o(!1)})})]}),e.jsxs("div",{className:"col-span-12 lg:col-span-4 border rounded-lg md:h-[calc(100vh-11rem)] max-h-96 md:max-h-full flex flex-col",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h2",{className:"font-semibold",children:"Comments"})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[b.length===0&&e.jsx("div",{className:"text-center text-gray-500 mt-20",children:"No comments yet"}),b.map(u=>e.jsxs("div",{className:"flex border-b-2 pb-2 flex-col space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-sm",children:u.userName}),((i==null?void 0:i.email)===u.userEmail||(i==null?void 0:i.email)===ke)&&e.jsx("button",{onClick:()=>L(u.id),className:"text-red-500 hover:text-red-700",children:e.jsx(at,{size:16})})]}),e.jsx("p",{className:"text-sm",children:u.text}),e.jsx("span",{className:"text-xs text-gray-500",children:u.timestamp})]},u.id))]}),i?e.jsx("div",{className:"p-4 border-t mt-auto",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"text",onKeyDown:I,value:h,onChange:u=>v(u.target.value),placeholder:"Add a comment...",className:"flex-1 border border-gray-400 rounded-l-lg px-3 py-2"}),e.jsx("button",{ref:z,onClick:c,className:"bg-black border border-black text-white px-4 py-2 rounded-r-lg hover:bg-gray-800",children:"Post"})]})}):e.jsx("div",{className:"p-4 border-t text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Please sign in to comment"})})]})]})]}):e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("div",{className:"text-red-500 font-medium",children:"No URL provided!"}),e.jsx("button",{onClick:()=>n("/"),className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors",children:"Back to Home"})]})}function Lt(){const[s,n]=t.useState([]),[x,d]=t.useState([]),[l,r]=t.useState(!0),[o,N]=t.useState("uploads");t.useState({});const S=ne(),[b]=rt(U),p=c=>`https://drive.google.com/thumbnail?id=${c}&sz=w1200`,h=c=>{const L=c.match(/\/d\/([^/]+)/)||c.match(/id=([^&]+)/);return L?L[1]:null};t.useEffect(()=>{let c=!0;return(async()=>{if(c)try{r(!0);const B=fe(_(H,"notes"),lt("metadata.createdBy","==",b.email),ge("uploadedAt","desc")),I=(await me(B)).docs.map(k=>({id:k.id,...k.data()})),V=_(H,"notes"),j=(await me(V)).docs.map(async k=>{const F=J(_(k.ref,"likes"),b.uid);return(await xe(F)).exists()?{id:k.id,...k.data()}:null}),D=(await Promise.all(j)).filter(k=>k!==null);n(I),d(D)}catch(B){console.error("Error fetching user data:",B)}finally{r(!1)}})(),()=>{c=!1}},[b,S]);const v=(c,L)=>{if(!L||!c){alert("Invalid Note ID or URL");return}const B=encodeURIComponent(c);S(`/note?url=${B}&id=${L}`)},i=async c=>{if(window.confirm("Are you sure you want to delete this note?"))try{await de(J(H,"notes",c)),n(L=>L.filter(B=>B.id!==c)),console.log(`Note with ID: ${c} has been deleted successfully.`)}catch(L){console.error("Error deleting note:",L)}},A=()=>e.jsxs("div",{className:"bg-white p-5 rounded-xl overflow-hidden  shadow-xl flex w-full flex-row justify-between",children:[e.jsxs("div",{className:"flex flex-col justify-between flex-grow",children:[e.jsx(q,{height:20,width:150,className:"mb-4"})," ",e.jsx(q,{height:14,width:100,className:"mb-2"})," ",e.jsx(q,{height:16,width:120,className:"mb-2"})," ",e.jsx(q,{height:20,width:130,className:"mb-2"})," ",e.jsx(q,{height:10,width:80,className:"mb-4"})," ",e.jsxs("div",{className:"flex flex-row items-center gap-3",children:[e.jsx(q,{height:46,width:120})," "]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-between ml-4",children:[e.jsx(q,{height:192,width:160,className:"rounded-lg"})," ",e.jsx(q,{height:20,width:100,className:"mt-2"})," "]})]}),z=c=>e.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-xl flex flex-row justify-between",children:[e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsx("h1",{className:"md:text-lg font-bold mb-2",children:e.jsx("span",{className:"group relative",children:c.subject||"unknown"})}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["@",e.jsx("span",{className:"text-gray-600 md:text-sm relative",children:c.module||"unknown"})]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Semester:",e.jsx("span",{className:"text-gray-600 md:text-sm text-center relative",children:c.semester||"unknown"})]}),e.jsxs("h2",{className:"mb-2 md:text-sm text-gray-600",children:["Details: ",c.name]}),e.jsxs("p",{className:"text-gray-600 md:text-sm mb-4",children:["Uploaded by:",e.jsx("span",{className:"text-green-800 group md:text-sm font-semibold relative ml-1",children:c.contributorName||"unknown"})]}),e.jsx("div",{className:"flex flex-row justify-start w-full items-center gap-3",children:e.jsx("button",{onClick:()=>v(c.fileUrl,c.id),className:"text-white bg-black py-2 text-center w-full text-xs md:text-base md:w-fit md:px-5 rounded-lg hover:rounded-2xl transition-all duration-300",children:"View Note"})})]}),e.jsxs("div",{className:"flex flex-col items-center justify-between",children:[e.jsx("img",{onClick:()=>v(c.fileUrl,c.id),src:p(h(c.fileUrl)),alt:"PDF Preview",className:"md:w-40 cursor-pointer hover:brightness-90 transition-all duration-300 md:h-48 w-28 h-36 object-cover rounded-lg ml-2 border-2 border-gray-300"}),e.jsxs("div",{className:"flex flex-row justify-around items-center w-full mt-2",children:[o==="uploads"&&e.jsx("div",{className:"bg-slate-50 rounded-lg md:px-2 p-1 hover:bg-slate-200 hover:rounded-xl transition-all duration-300",children:e.jsx("button",{onClick:()=>i(c.id),children:e.jsx(ue,{size:20,className:"text-red-500"})})}),e.jsx("p",{className:"opacity-40 bottom-0",children:c.uploadedAt.toDate().toLocaleDateString("en-GB")})]})]})]},c.id),T=async()=>{if(window.confirm("Are you sure you want to sign out?"))try{await Ae(U),S("/")}catch(L){console.error("Error signing out:",L)}else console.log("Sign out canceled by the user.")};return e.jsxs("div",{className:"min-h-screen",children:[e.jsxs("div",{className:"fixed hidden  md:flex flex-col justify-around left-0 top-10 px-3 h-screen w-64 bg-amber-50 shadow-lg z-10",children:[e.jsxs("div",{className:"p-4 mt-5",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"w-20 h-20 mx-auto bg-gray-200 rounded-full flex items-center justify-center mb-2",children:b!=null&&b.photoURL?e.jsx("img",{src:b.photoURL,alt:"Profile",className:"w-20 h-20 rounded-full object-cover"}):e.jsx(pe,{className:"w-10 h-10 text-gray-500"})}),e.jsx("h2",{className:"text-xl font-semibold text-center",children:(b==null?void 0:b.displayName)||"User"}),e.jsx("p",{className:"text-sm text-gray-600 text-center",children:(b==null?void 0:b.email)||"loading..."})]}),e.jsxs("nav",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>N("uploads"),className:`w-full text-left p-2 rounded flex items-center ${o==="uploads"?"bg-amber-100":"hover:bg-slate-100"}`,children:[e.jsx(he,{size:18,className:"mr-2"})," Your Uploads"]}),e.jsxs("button",{onClick:()=>N("likes"),className:`w-full text-left p-2 rounded flex items-center ${o==="likes"?"bg-amber-100":"hover:bg-slate-100"}`,children:[e.jsx(ye,{size:18,className:"mr-2"})," Liked Notes"]})]})]}),e.jsxs("div",{className:"px-4 ml-2 py-2 text-red-500 flex justify-start items-center rounded-2xl hover:bg-amber-100 transition-all font-semibold cursor-pointer",onClick:T,children:[e.jsx(Pe,{size:16,className:"mr-2"}),e.jsx("p",{children:"Log out"})]})]}),e.jsxs("div",{className:"md:hidden flex mt-20 justify-between items-center p-4 bg-amber-50 shadow-sm",children:[e.jsxs("button",{onClick:()=>N("uploads"),className:`p-2 rounded flex items-center ${o==="uploads"?"bg-amber-100":"hover:bg-slate-100"}`,children:[e.jsx(he,{size:18,className:"mr-2"})," Your Uploads"]}),e.jsxs("button",{onClick:()=>N("likes"),className:`p-2 rounded flex items-center ${o==="likes"?"bg-amber-100":"hover:bg-slate-100"}`,children:[e.jsx(ye,{size:18,className:"mr-2"})," Liked Notes"]})]}),e.jsx("div",{className:"md:ml-64 min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto p-6 md:mt-20",children:l?e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:o==="uploads"?"Your Uploads":"Liked Notes"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(c=>e.jsx(A,{},c))})]}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:o==="uploads"?"Your Uploads":"Liked Notes"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o==="uploads"?s.length===0?e.jsx("p",{className:"text-center text-gray-500 py-8",children:"You haven't uploaded any notes yet."}):s.map(z):x.length===0?e.jsx("p",{className:"text-center text-gray-500 py-8",children:"You haven't liked any notes yet."}):x.map(z)})]})})})]})}function Rt(){const[s,n]=t.useState(null);return t.useEffect(()=>{const x=Ee(U,d=>{n(d)});return()=>x()},[]),e.jsx(nt,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-r flex items-center flex-col from-yellow-50 to-amber-50",children:[e.jsx(Et,{user:s}),e.jsxs(ot,{children:[e.jsx(se,{path:"/",element:e.jsx(vt,{})}),e.jsx(se,{path:"/auth",element:e.jsx(St,{})}),e.jsx(se,{path:"/upload",element:e.jsx(Ct,{user:s})}),e.jsx(se,{path:"/about",element:e.jsx(Pt,{})}),e.jsx(se,{path:"/note",element:e.jsx(At,{})}),e.jsx(se,{path:"/userpage",element:e.jsx(Lt,{})})]})]})})}it(document.getElementById("root")).render(e.jsxs(t.StrictMode,{children:[e.jsx(ct,{}),e.jsx(Rt,{})]}));
